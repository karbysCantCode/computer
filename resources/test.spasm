@include "include.spasm" 
@define rF r15
@define rF r13
@define mul32(rA,rB,rC,rD,rdA,rdB) {
  push rF
  mull rdA, rC, rA
  mulh rdB, rC, rA

  mull rF, rB, rD
  add  rdB, rF, rdB
  pop rF
  mul32
}

; syntax test file

add r1, r2, r3
sub r1, r2, r3
adi r2, [20389 * 2 + 65 - 25 - 2 * 252 + main]

main:
movi r2, 0
mul32 r1, r2, r3, r4, r5, r6
nop
nop
nop
add 14, r2, r4